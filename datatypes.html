<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>src/arraymancer/laser/tensor/datatypes</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);


  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', "dark");
    toggleSwitch.checked = true;
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', "light");
    toggleSwitch.checked = false;
  } else {
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    if (currentTheme) {
      document.documentElement.setAttribute('data-theme', currentTheme);

      if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
      }
    }
  }
}
</script>

</head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Arraymancer - src/arraymancer/laser/tensor/datatypes</title>

<link href="docutils.css" rel="stylesheet" type="text/css"/>
<link href="nav.css" rel="stylesheet" type="text/css"/>

<link href='http://fonts.googleapis.com/css?family=Raleway:400,600,900' rel='stylesheet' type='text/css'/>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<a href="https://github.com/mratsim/arraymancer"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 10;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_gray_6d6d6d.png?resize=150%2C150" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">src/arraymancer/laser/tensor/datatypes</h1>
    <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">üåó Match OS</option>
        <option value="dark">üåë Dark</option>
        <option value="light">üåï Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" onkeyup="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#CpuStorage" title="CpuStorage[T] {.shallow.} = ref CpuStorageObj[T]">CpuStorage</a></li>
<li><a class="reference" href="#KnownSupportsCopyMem" title="KnownSupportsCopyMem = concept xtypeof(T)
    supportsCopyMem(T)">KnownSupportsCopyMem</a></li>
<li><a class="reference" href="#Metadata" title="Metadata = DynamicStackArray[int]">Metadata</a></li>
<li><a class="reference" href="#MetadataArray" title="MetadataArray {.deprecated: &quot;Use Metadata instead&quot;.} = Metadata">MetadataArray</a></li>
<li><a class="reference" href="#RawImmutableView" title="RawImmutableView[T] = distinct ptr UncheckedArray[T]">RawImmutableView</a></li>
<li><a class="reference" href="#RawMutableView" title="RawMutableView[T] = distinct ptr UncheckedArray[T]">RawMutableView</a></li>
<li><a class="reference" href="#Tensor" title="Tensor[T] = object
  shape*: Metadata
  strides*: Metadata
  offset*: int
  storage*: CpuStorage[T]">Tensor</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">allocCpuStorage
  <li><a class="reference" href="#allocCpuStorage%2CCpuStorage%5BT%5D%2Cint" title="allocCpuStorage[T](storage: var CpuStorage[T]; size: int)">allocCpuStorage[T](storage: var CpuStorage[T]; size: int)</a></li>

</ul>
<ul class="simple nested-toc-section">cpuStorageFromBuffer
  <li><a class="reference" href="#cpuStorageFromBuffer%2CCpuStorage%5BT%3A%20KnownSupportsCopyMem%5D%2Cpointer%2Cint" title="cpuStorageFromBuffer[T: KnownSupportsCopyMem](storage: var CpuStorage[T];
    rawBuffer: pointer; size: int)">cpuStorageFromBuffer[T: KnownSupportsCopyMem](storage: var CpuStorage[T];
    rawBuffer: pointer; size: int)</a></li>

</ul>
<ul class="simple nested-toc-section">initMetadataArray
  <li><a class="reference" href="#initMetadataArray%2Cint" title="initMetadataArray(len: int): Metadata">initMetadataArray(len: int): Metadata</a></li>

</ul>
<ul class="simple nested-toc-section">is_C_contiguous
  <li><a class="reference" href="#is_C_contiguous%2CTensor" title="is_C_contiguous(t: Tensor): bool">is_C_contiguous(t: Tensor): bool</a></li>

</ul>
<ul class="simple nested-toc-section">len
  <li><a class="reference" href="#len%2CTensor%5BT%5D" title="len[T](t: Tensor[T]): int">len[T](t: Tensor[T]): int</a></li>

</ul>
<ul class="simple nested-toc-section">rank
  <li><a class="reference" href="#rank%2CTensor%5BT%5D" title="rank[T](t: Tensor[T]): range[0 .. LASER_MAXRANK]">rank[T](t: Tensor[T]): range[0 .. LASER_MAXRANK]</a></li>

</ul>
<ul class="simple nested-toc-section">size
  <li><a class="reference" href="#size%2CTensor%5BT%5D" title="size[T](t: Tensor[T]): Natural">size[T](t: Tensor[T]): Natural</a></li>

</ul>
<ul class="simple nested-toc-section">toMetadataArray
  <li><a class="reference" href="#toMetadataArray%2Cvarargs%5Bint%5D" title="toMetadataArray(s: varargs[int]): Metadata">toMetadataArray(s: varargs[int]): Metadata</a></li>

</ul>
<ul class="simple nested-toc-section">unsafe_raw_buf
  <li><a class="reference" href="#unsafe_raw_buf%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool" title="unsafe_raw_buf[T: KnownSupportsCopyMem](t: Tensor[T];
                                        aligned: static bool = true): RawImmutableView[
    T]">unsafe_raw_buf[T: KnownSupportsCopyMem](t: Tensor[T];
                                        aligned: static bool = true): RawImmutableView[
    T]</a></li>
<li><a class="reference" href="#unsafe_raw_buf%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool_2" title="unsafe_raw_buf[T: KnownSupportsCopyMem](t: var Tensor[T];
                                        aligned: static bool = true): RawMutableView[
    T]">unsafe_raw_buf[T: KnownSupportsCopyMem](t: var Tensor[T];
                                        aligned: static bool = true): RawMutableView[
    T]</a></li>
<li><a class="reference" href="#unsafe_raw_buf%2CTensor%5BT%3A%20not%20KnownSupportsCopyMem%5D%2Cstaticbool" title="unsafe_raw_buf[T: not KnownSupportsCopyMem](t: Tensor[T];
    aligned: static bool = true): ptr UncheckedArray[T]">unsafe_raw_buf[T: not KnownSupportsCopyMem](t: Tensor[T];
    aligned: static bool = true): ptr UncheckedArray[T]</a></li>

</ul>
<ul class="simple nested-toc-section">unsafe_raw_offset
  <li><a class="reference" href="#unsafe_raw_offset%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool" title="unsafe_raw_offset[T: KnownSupportsCopyMem](t: Tensor[T];
    aligned: static bool = true): RawImmutableView[T]">unsafe_raw_offset[T: KnownSupportsCopyMem](t: Tensor[T];
    aligned: static bool = true): RawImmutableView[T]</a></li>
<li><a class="reference" href="#unsafe_raw_offset%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool_2" title="unsafe_raw_offset[T: KnownSupportsCopyMem](t: var Tensor[T];
    aligned: static bool = true): RawMutableView[T]">unsafe_raw_offset[T: KnownSupportsCopyMem](t: var Tensor[T];
    aligned: static bool = true): RawMutableView[T]</a></li>
<li><a class="reference" href="#unsafe_raw_offset%2CTensor%5BT%3A%20not%20KnownSupportsCopyMem%5D%2Cstaticbool" title="unsafe_raw_offset[T: not KnownSupportsCopyMem](t: Tensor[T];
    aligned: static bool = true): ptr UncheckedArray[T]">unsafe_raw_offset[T: not KnownSupportsCopyMem](t: Tensor[T];
    aligned: static bool = true): ptr UncheckedArray[T]</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#17" id="67">Macros</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">raw_data_unaligned
  <li><a class="reference" href="#raw_data_unaligned.m%2Cuntyped" title="raw_data_unaligned(body: untyped): untyped">raw_data_unaligned(body: untyped): untyped</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#18" id="68">Templates</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">[]
  <li><a class="reference" href="#%5B%5D.t%2CRawImmutableView%5BT%5D%2Cint" title="`[]`[T](v: RawImmutableView[T]; idx: int): T">`[]`[T](v: RawImmutableView[T]; idx: int): T</a></li>
<li><a class="reference" href="#%5B%5D.t%2CRawMutableView%5BT%5D%2Cint" title="`[]`[T](v: RawMutableView[T]; idx: int): var T">`[]`[T](v: RawMutableView[T]; idx: int): var T</a></li>

</ul>
<ul class="simple nested-toc-section">[]=
  <li><a class="reference" href="#%5B%5D%3D.t%2CRawMutableView%5BT%5D%2Cint%2CT" title="`[]=`[T](v: RawMutableView[T]; idx: int; val: T)">`[]=`[T](v: RawMutableView[T]; idx: int; val: T)</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L1"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L1" class="link-seesrc" target="_blank" >Edit</a>

    <div id="tocRoot"></div>
    
    <p class="module-desc"></p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="dynamic_stack_arrays.html">dynamic_stack_arrays</a>, <a class="reference external" href="compiler_optim_hints.html">compiler_optim_hints</a>, <a class="reference external" href="memory.html">memory</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="CpuStorage">
  <dt><pre><a href="datatypes.html#CpuStorage"><span class="Identifier">CpuStorage</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.<span class="Identifier">shallow</span>.} <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">CpuStorageObj</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L39"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L39" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="KnownSupportsCopyMem">
  <dt><pre><a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a> <span class="Other">=</span> <span class="Keyword">concept</span> <span class="Identifier">x</span><span class="Keyword">typeof</span><span class="Other">(</span><span class="Identifier">T</span><span class="Other">)</span>
    <span class="Identifier">supportsCopyMem</span><span class="Other">(</span><span class="Identifier">T</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L21"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L21" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="Metadata">
  <dt><pre><a href="datatypes.html#Metadata"><span class="Identifier">Metadata</span></a> <span class="Other">=</span> <a href="dynamic_stack_arrays.html#DynamicStackArray"><span class="Identifier">DynamicStackArray</span></a><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L27"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L27" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="MetadataArray">
  <dt><pre><a href="datatypes.html#MetadataArray"><span class="Identifier">MetadataArray</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">deprecated</span><span class="Other">:</span> <span class="StringLit">&quot;Use Metadata instead&quot;</span></span>.} <span class="Other">=</span> <a href="datatypes.html#Metadata"><span class="Identifier">Metadata</span></a></pre></dt>
  <dd>
    <div class="deprecation-message">
  <b>Deprecated:</b> Use Metadata instead
</div>

    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L31"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L31" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="RawImmutableView">
  <dt><pre><a href="datatypes.html#RawImmutableView"><span class="Identifier">RawImmutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L24"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L24" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="RawMutableView">
  <dt><pre><a href="datatypes.html#RawMutableView"><span class="Identifier">RawMutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L25"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L25" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="Tensor">
  <dt><pre><a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">shape</span><span class="Operator">*</span><span class="Other">:</span> <a href="datatypes.html#Metadata"><span class="Identifier">Metadata</span></a>
  <span class="Identifier">strides</span><span class="Operator">*</span><span class="Other">:</span> <a href="datatypes.html#Metadata"><span class="Identifier">Metadata</span></a>
  <span class="Identifier">offset</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">storage</span><span class="Operator">*</span><span class="Other">:</span> <a href="datatypes.html#CpuStorage"><span class="Identifier">CpuStorage</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L33"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L33" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="allocCpuStorage-procs-all">
  <div id="allocCpuStorage,CpuStorage[T],int">
  <dt><pre><span class="Keyword">proc</span> <a href="#allocCpuStorage%2CCpuStorage%5BT%5D%2Cint"><span class="Identifier">allocCpuStorage</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">storage</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="datatypes.html#CpuStorage"><span class="Identifier">CpuStorage</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span></pre></dt>
  <dd>
    
    Allocate aligned memory to hold <tt class="docutils literal"><span class="pre"><span class="Identifier">size</span></span></tt> elements of type T. If T does not supports copyMem, it is also zero-initialized. I.e. Tensors of seq, strings, ref types or types with non-trivial destructors are always zero-initialized. This prevents potential GC issues.
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L103"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L103" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="cpuStorageFromBuffer-procs-all">
  <div id="cpuStorageFromBuffer,CpuStorage[T: KnownSupportsCopyMem],pointer,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#cpuStorageFromBuffer%2CCpuStorage%5BT%3A%20KnownSupportsCopyMem%5D%2Cpointer%2Cint"><span class="Identifier">cpuStorageFromBuffer</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">storage</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="datatypes.html#CpuStorage"><span class="Identifier">CpuStorage</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">rawBuffer</span><span class="Other">:</span> <span class="Identifier">pointer</span><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span></pre></dt>
  <dd>
    
    <p>Create a <tt class="docutils literal"><span class="pre"><span class="Identifier">CpuStorage</span></span></tt>, which stores data from a given raw pointer, which it does <tt class="docutils literal"><span class="pre">not</span></tt> own. The destructor/finalizer will be a no-op, because the memory is marked as not owned by the <tt class="docutils literal"><span class="pre"><span class="Identifier">CpuStorage</span></span></tt>.</p>
<p>The input buffer must be a raw <tt class="docutils literal"><span class="pre"><span class="Identifier">pointer</span></span></tt>.</p>

    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L120"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L120" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="initMetadataArray-procs-all">
  <div id="initMetadataArray,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#initMetadataArray%2Cint"><span class="Identifier">initMetadataArray</span></a><span class="Other">(</span><span class="Identifier">len</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="datatypes.html#Metadata"><span class="Identifier">Metadata</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L49"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L49" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="is_C_contiguous-procs-all">
  <div id="is_C_contiguous,Tensor">
  <dt><pre><span class="Keyword">func</span> <a href="#is_C_contiguous%2CTensor"><span class="Identifier">is_C_contiguous</span></a><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    Check if the tensor follows C convention / is row major
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L137"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L137" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="len-procs-all">
  <div id="len,Tensor[T]">
  <dt><pre><span class="Keyword">func</span> <a href="#len%2CTensor%5BT%5D"><span class="Identifier">len</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L68"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L68" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="rank-procs-all">
  <div id="rank,Tensor[T]">
  <dt><pre><span class="Keyword">func</span> <a href="#rank%2CTensor%5BT%5D"><span class="Identifier">rank</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">range</span><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="Identifier">LASER_MAXRANK</span><span class="Other">]</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L60"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L60" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="size-procs-all">
  <div id="size,Tensor[T]">
  <dt><pre><span class="Keyword">func</span> <a href="#size%2CTensor%5BT%5D"><span class="Identifier">size</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Natural</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L64"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L64" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="toMetadataArray-procs-all">
  <div id="toMetadataArray,varargs[int]">
  <dt><pre><span class="Keyword">proc</span> <a href="#toMetadataArray%2Cvarargs%5Bint%5D"><span class="Identifier">toMetadataArray</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <span class="Identifier">varargs</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="datatypes.html#Metadata"><span class="Identifier">Metadata</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L52"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L52" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="unsafe_raw_buf-procs-all">
  <div id="unsafe_raw_buf,Tensor[T: KnownSupportsCopyMem],staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#unsafe_raw_buf%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool"><span class="Identifier">unsafe_raw_buf</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">aligned</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="datatypes.html#RawImmutableView"><span class="Identifier">RawImmutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    <p>Returns a view to the start of the data buffer</p>
<p>Unsafe: the pointer can outlive the input tensor For optimization purposes, Laser will hint the compiler that while the pointer is valid, all data accesses will be through it (no aliasing) and that the data is aligned by LASER_MEM_ALIGN (default 64).</p>

    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L174"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L174" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="unsafe_raw_buf,Tensor[T: KnownSupportsCopyMem],staticbool_2">
  <dt><pre><span class="Keyword">func</span> <a href="#unsafe_raw_buf%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool_2"><span class="Identifier">unsafe_raw_buf</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">aligned</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="datatypes.html#RawMutableView"><span class="Identifier">RawMutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    <p>Returns a view to the start of the data buffer</p>
<p>Unsafe: the pointer can outlive the input tensor For optimization purposes, Laser will hint the compiler that while the pointer is valid, all data accesses will be through it (no aliasing) and that the data is aligned by LASER_MEM_ALIGN (default 64).</p>

    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L183"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L183" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="unsafe_raw_buf,Tensor[T: not KnownSupportsCopyMem],staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#unsafe_raw_buf%2CTensor%5BT%3A%20not%20KnownSupportsCopyMem%5D%2Cstaticbool"><span class="Identifier">unsafe_raw_buf</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">not</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">aligned</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.
    <span class="Identifier">error</span><span class="Other">:</span> <span class="StringLit">&quot;Access via raw pointer forbidden for non mem copyable types!&quot;</span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L210"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L210" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="unsafe_raw_offset-procs-all">
  <div id="unsafe_raw_offset,Tensor[T: KnownSupportsCopyMem],staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#unsafe_raw_offset%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool"><span class="Identifier">unsafe_raw_offset</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">aligned</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="datatypes.html#RawImmutableView"><span class="Identifier">RawImmutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    <p>Returns a view to the start of the valid data</p>
<p>Unsafe: the pointer can outlive the input tensor For optimization purposes, Laser will hint the compiler that while the pointer is valid, all data accesses will be through it (no aliasing) and that the data is aligned by LASER_MEM_ALIGN (default 64).</p>

    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L192"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L192" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="unsafe_raw_offset,Tensor[T: KnownSupportsCopyMem],staticbool_2">
  <dt><pre><span class="Keyword">func</span> <a href="#unsafe_raw_offset%2CTensor%5BT%3A%20KnownSupportsCopyMem%5D%2Cstaticbool_2"><span class="Identifier">unsafe_raw_offset</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">aligned</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="datatypes.html#RawMutableView"><span class="Identifier">RawMutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.<span class="Identifier">inline</span>.}</pre></dt>
  <dd>
    
    <p>Returns a view to the start of the valid data</p>
<p>Unsafe: the pointer can outlive the input tensor For optimization purposes, Laser will hint the compiler that while the pointer is valid, all data accesses will be through it (no aliasing) and that the data is aligned by LASER_MEM_ALIGN (default 64).</p>

    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L201"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L201" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="unsafe_raw_offset,Tensor[T: not KnownSupportsCopyMem],staticbool">
  <dt><pre><span class="Keyword">func</span> <a href="#unsafe_raw_offset%2CTensor%5BT%3A%20not%20KnownSupportsCopyMem%5D%2Cstaticbool"><span class="Identifier">unsafe_raw_offset</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">not</span> <a href="datatypes.html#KnownSupportsCopyMem"><span class="Identifier">KnownSupportsCopyMem</span></a><span class="Other">]</span><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="datatypes.html#Tensor"><span class="Identifier">Tensor</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span>
    <span class="Identifier">aligned</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">bool</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ptr</span> <span class="Identifier">UncheckedArray</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span> {.
    <span class="Identifier">error</span><span class="Other">:</span> <span class="StringLit">&quot;Access via raw pointer forbidden for non mem copyable types!&quot;</span>.}</pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L212"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L212" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="17">
  <h1><a class="toc-backref" href="#17">Macros</a></h1>
  <dl class="item">
    <div id="raw_data_unaligned-macros-all">
  <div id="raw_data_unaligned.m,untyped">
  <dt><pre><span class="Keyword">macro</span> <a href="#raw_data_unaligned.m%2Cuntyped"><span class="Identifier">raw_data_unaligned</span></a><span class="Other">(</span><span class="Identifier">body</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
  <dd>
    
    <p>Within this code block, all raw data accesses will not be assumed aligned by default (LASER_MEM_ALIGN is 64 by default). Use this when interfacing with external buffers of unknown alignment.</p>
<p>‚ö†Ô∏è Warning: At the moment Nim's builtin term-rewriting macros are not scoped. All processing within the file this is called will be considered unaligned. <a class="reference external" href="https://github.com/nim-lang/Nim/issues/7214#issuecomment-431567894">https://github.com/nim-lang/Nim/issues/7214#issuecomment-431567894</a>.</p>

    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L214"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L214" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="18">
  <h1><a class="toc-backref" href="#18">Templates</a></h1>
  <dl class="item">
    <div id="[]-templates-all">
  <div id="[].t,RawImmutableView[T],int">
  <dt><pre><span class="Keyword">template</span> <a href="#%5B%5D.t%2CRawImmutableView%5BT%5D%2Cint"><span class="Identifier">`[]`</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">v</span><span class="Other">:</span> <a href="datatypes.html#RawImmutableView"><span class="Identifier">RawImmutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">idx</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L230"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L230" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>
<div id="[].t,RawMutableView[T],int">
  <dt><pre><span class="Keyword">template</span> <a href="#%5B%5D.t%2CRawMutableView%5BT%5D%2Cint"><span class="Identifier">`[]`</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">v</span><span class="Other">:</span> <a href="datatypes.html#RawMutableView"><span class="Identifier">RawMutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">idx</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">T</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L234"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L234" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>
<div id="[]=-templates-all">
  <div id="[]=.t,RawMutableView[T],int,T">
  <dt><pre><span class="Keyword">template</span> <a href="#%5B%5D%3D.t%2CRawMutableView%5BT%5D%2Cint%2CT"><span class="Identifier">`[]=`</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">v</span><span class="Other">:</span> <a href="datatypes.html#RawMutableView"><span class="Identifier">RawMutableView</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">idx</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span></pre></dt>
  <dd>
    
    
    &nbsp;&nbsp;<a
href="https://github.com/mratsim/arraymancer/tree/master/src/arraymancer/laser/tensor/datatypes.nim#L238"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/mratsim/arraymancer/edit/master/src/arraymancer/laser/tensor/datatypes.nim#L238" class="link-seesrc" target="_blank" >Edit</a>

  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-05-12 14:01:17 UTC</small>
      </div>
    </div>
  </div>
</div>

<header>
  <a class="pagetitle" href="index.html">Arraymancer</a>
  <span>
    <a href="#">Technical reference</a>
    <ul class="monospace" style="padding-bottom: 15px; padding-top: 10px;">
      <span>
      <li>
        <a href="#">Core tensor API</a>
        <ul class="monospace">
          <li><a href="accessors.html">accessors</a></li>
<li><a href="accessors_macros_read.html">accessors_macros_read</a></li>
<li><a href="accessors_macros_syntax.html">accessors_macros_syntax</a></li>
<li><a href="accessors_macros_write.html">accessors_macros_write</a></li>
<li><a href="aggregate.html">aggregate</a></li>
<li><a href="algorithms.html">algorithms</a></li>
<li><a href="blas_l3_gemm.html">blas_l3_gemm</a></li>
<li><a href="complex.html">complex</a></li>
<li><a href="cublas.html">cublas</a></li>
<li><a href="cuda.html">cuda</a></li>
<li><a href="cuda_global_state.html">cuda_global_state</a></li>
<li><a href="data_structure.html">data_structure</a></li>
<li><a href="display.html">display</a></li>
<li><a href="display_cuda.html">display_cuda</a></li>
<li><a href="einsum.html">einsum</a></li>
<li><a href="exporting.html">exporting</a></li>
<li><a href="filling_data.html">filling_data</a></li>
<li><a href="higher_order_applymap.html">higher_order_applymap</a></li>
<li><a href="higher_order_foldreduce.html">higher_order_foldreduce</a></li>
<li><a href="incl_accessors_cuda.html">incl_accessors_cuda</a></li>
<li><a href="incl_higher_order_cuda.html">incl_higher_order_cuda</a></li>
<li><a href="incl_kernels_cuda.html">incl_kernels_cuda</a></li>
<li><a href="init_copy_cpu.html">init_copy_cpu</a></li>
<li><a href="init_copy_cuda.html">init_copy_cuda</a></li>
<li><a href="init_cpu.html">init_cpu</a></li>
<li><a href="init_cuda.html">init_cuda</a></li>
<li><a href="init_opencl.html">init_opencl</a></li>
<li><a href="lapack.html">lapack</a></li>
<li><a href="math_functions.html">math_functions</a></li>
<li><a href="memory_optimization_hints.html">memory_optimization_hints</a></li>
<li><a href="naive_l2_gemv.html">naive_l2_gemv</a></li>
<li><a href="opencl_backend.html">opencl_backend</a></li>
<li><a href="opencl_global_state.html">opencl_global_state</a></li>
<li><a href="openmp.html">openmp</a></li>
<li><a href="operators_blas_l1.html">operators_blas_l1</a></li>
<li><a href="operators_blas_l1_cuda.html">operators_blas_l1_cuda</a></li>
<li><a href="operators_blas_l1_opencl.html">operators_blas_l1_opencl</a></li>
<li><a href="operators_blas_l2l3.html">operators_blas_l2l3</a></li>
<li><a href="operators_blas_l2l3_cuda.html">operators_blas_l2l3_cuda</a></li>
<li><a href="operators_blas_l2l3_opencl.html">operators_blas_l2l3_opencl</a></li>
<li><a href="operators_broadcasted.html">operators_broadcasted</a></li>
<li><a href="operators_broadcasted_cuda.html">operators_broadcasted_cuda</a></li>
<li><a href="operators_broadcasted_opencl.html">operators_broadcasted_opencl</a></li>
<li><a href="operators_comparison.html">operators_comparison</a></li>
<li><a href="operators_logical.html">operators_logical</a></li>
<li><a href="optim_ops_fusion.html">optim_ops_fusion</a></li>
<li><a href="p_accessors.html">p_accessors</a></li>
<li><a href="p_accessors_macros_desugar.html">p_accessors_macros_desugar</a></li>
<li><a href="p_accessors_macros_read.html">p_accessors_macros_read</a></li>
<li><a href="p_accessors_macros_write.html">p_accessors_macros_write</a></li>
<li><a href="p_checks.html">p_checks</a></li>
<li><a href="p_complex.html">p_complex</a></li>
<li><a href="p_display.html">p_display</a></li>
<li><a href="p_empty_tensors.html">p_empty_tensors</a></li>
<li><a href="p_init_cuda.html">p_init_cuda</a></li>
<li><a href="p_init_opencl.html">p_init_opencl</a></li>
<li><a href="p_kernels_interface_cuda.html">p_kernels_interface_cuda</a></li>
<li><a href="p_kernels_interface_opencl.html">p_kernels_interface_opencl</a></li>
<li><a href="p_operator_blas_l2l3.html">p_operator_blas_l2l3</a></li>
<li><a href="p_shapeshifting.html">p_shapeshifting</a></li>
<li><a href="selectors.html">selectors</a></li>
<li><a href="shapeshifting.html">shapeshifting</a></li>
<li><a href="shapeshifting_cuda.html">shapeshifting_cuda</a></li>
<li><a href="shapeshifting_opencl.html">shapeshifting_opencl</a></li>
<li><a href="syntactic_sugar.html">syntactic_sugar</a></li>
<li><a href="tensor_cuda.html">tensor_cuda</a></li>
<li><a href="tensor_opencl.html">tensor_opencl</a></li>
<li><a href="ufunc.html">ufunc</a></li>
        </ul>
      </li>
      </span>
      <span>
      <li>
        <a href="#">Neural network API</a>
        <ul class="monospace">
          <li><a href="conv2D.html">Layers: Convolution 2D</a></li>
<li><a href="cross_entropy_losses.html">Loss: Cross-Entropy losses</a></li>
<li><a href="embedding.html">Layers: Embedding</a></li>
<li><a href="flatten.html">flatten</a></li>
<li><a href="gcn.html">gcn</a></li>
<li><a href="gru.html">Layers: GRU (Gated Linear Unit)</a></li>
<li><a href="init.html">Layers: Initializations</a></li>
<li><a href="linear.html">Layers: Linear/Dense</a></li>
<li><a href="maxpool2D.html">Layers: Maxpool 2D</a></li>
<li><a href="mean_square_error_loss.html">Loss: Mean Square Error</a></li>
<li><a href="nn_dsl.html">Neural network: Declaration</a></li>
<li><a href="optimizers.html">Optimizers</a></li>
<li><a href="relu.html">Activation: Relu (Rectified linear Unit)</a></li>
<li><a href="sigmoid.html">Activation: Sigmoid</a></li>
<li><a href="softmax.html">Softmax</a></li>
<li><a href="tanh.html">Activation: Tanh</a></li>
        </ul>
      </li>
      </span>
      <span>
      <li>
        <a href="#">Linear algebra, stats, ML</a>
        <ul class="monospace">
          <li><a href="accuracy_score.html">Accuracy score</a></li>
<li><a href="algebra.html">algebra</a></li>
<li><a href="auxiliary_blas.html">auxiliary_blas</a></li>
<li><a href="auxiliary_lapack.html">auxiliary_lapack</a></li>
<li><a href="common_error_functions.html">Common errors, MAE and MSE (L1, L2 loss)</a></li>
<li><a href="dbscan.html">dbscan</a></li>
<li><a href="decomposition.html">Eigenvalue decomposition</a></li>
<li><a href="decomposition_lapack.html">decomposition_lapack</a></li>
<li><a href="decomposition_rand.html">Randomized Truncated SVD</a></li>
<li><a href="distributions.html">distributions</a></li>
<li><a href="init_colmajor.html">init_colmajor</a></li>
<li><a href="kde.html">kde</a></li>
<li><a href="kmeans.html">K-Means</a></li>
<li><a href="least_squares.html">Least squares solver</a></li>
<li><a href="least_squares_lapack.html">least_squares_lapack</a></li>
<li><a href="linear_systems.html">Linear systems solver</a></li>
<li><a href="overload.html">overload</a></li>
<li><a href="pca.html">Principal Component Analysis (PCA)</a></li>
<li><a href="solve_lapack.html">solve_lapack</a></li>
<li><a href="special_matrices.html">Special linear algebra matrices</a></li>
<li><a href="stats.html">Statistics</a></li>
<li><a href="triangular.html">triangular</a></li>
        </ul>
      </li>
      </span>
      <span>
      <li>
        <a href="#">IO & Datasets</a>
        <ul class="monospace">
          <li><a href="imdb.html">IMDB</a></li>
<li><a href="io_csv.html">CSV reading and writing</a></li>
<li><a href="io_hdf5.html">HDF5 files reading and writing</a></li>
<li><a href="io_image.html">Images reading and writing</a></li>
<li><a href="io_npy.html">Numpy files reading and writing</a></li>
<li><a href="io_stream_readers.html">io_stream_readers</a></li>
<li><a href="mnist.html">MNIST</a></li>
<li><a href="util.html">util</a></li>
        </ul>
      </li>
      </span>
      <span>
      <li>
        <a href="#">Autograd</a>
        <ul class="monospace">
          <li><a href="autograd_common.html">Data structure</a></li>
<li><a href="gates_basic.html">Basic operations</a></li>
<li><a href="gates_blas.html">Linear algebra operations</a></li>
<li><a href="gates_hadamard.html">Hadamard product (elementwise matrix multiply)</a></li>
<li><a href="gates_reduce.html">Reduction operations</a></li>
<li><a href="gates_shapeshifting_concat_split.html">Concatenation, stacking, splitting, chunking operations</a></li>
<li><a href="gates_shapeshifting_views.html">Linear algebra operations</a></li>
        </ul>
      </li>
      </span>
      <span>
      <li>
        <a href="#">Neuralnet primitives</a>
        <ul class="monospace">
          <li><a href="conv.html">conv</a></li>
<li><a href="cudnn.html">cudnn</a></li>
<li><a href="cudnn_conv_interface.html">cudnn_conv_interface</a></li>
<li><a href="nnp_activation.html">Activations</a></li>
<li><a href="nnp_conv2d_cudnn.html">Convolution 2D - CuDNN</a></li>
<li><a href="nnp_convolution.html">Convolution 2D</a></li>
<li><a href="nnp_embedding.html">Embeddings</a></li>
<li><a href="nnp_gru.html">Gated Recurrent Unit (GRU)</a></li>
<li><a href="nnp_linear.html">Linear / Dense layer</a></li>
<li><a href="nnp_maxpooling.html">Maxpooling</a></li>
<li><a href="nnp_numerical_gradient.html">Numerical gradient</a></li>
<li><a href="nnp_sigmoid_cross_entropy.html">Sigmoid Cross-Entropy loss</a></li>
<li><a href="nnp_softmax.html">Softmax</a></li>
<li><a href="nnp_softmax_cross_entropy.html">Softmax Cross-Entropy loss</a></li>
<li><a href="nnpack.html">nnpack</a></li>
<li><a href="nnpack_interface.html">nnpack_interface</a></li>
<li><a href="p_activation.html">p_activation</a></li>
<li><a href="p_logsumexp.html">p_logsumexp</a></li>
<li><a href="p_nnp_checks.html">p_nnp_checks</a></li>
<li><a href="p_nnp_types.html">p_nnp_types</a></li>
        </ul>
      </li>
      </span>
      <span>
      <li>
        <a href="#">Other docs</a>
        <ul class="monospace">
          <li><a href="align_unroller.html">align_unroller</a></li>
<li><a href="ast_utils.html">ast_utils</a></li>
<li><a href="compiler_optim_hints.html">compiler_optim_hints</a></li>
<li><a href="cpuinfo_x86.html">cpuinfo_x86</a></li>
<li><a href="datatypes.html">datatypes</a></li>
<li><a href="deprecate.html">deprecate</a></li>
<li><a href="dynamic_stack_arrays.html">dynamic_stack_arrays</a></li>
<li><a href="foreach.html">foreach</a></li>
<li><a href="foreach_common.html">foreach_common</a></li>
<li><a href="foreach_staged.html">foreach_staged</a></li>
<li><a href="functional.html">functional</a></li>
<li><a href="gemm.html">gemm</a></li>
<li><a href="gemm_packing.html">gemm_packing</a></li>
<li><a href="gemm_prepacked.html">gemm_prepacked</a></li>
<li><a href="gemm_tiling.html">gemm_tiling</a></li>
<li><a href="gemm_ukernel_avx.html">gemm_ukernel_avx</a></li>
<li><a href="gemm_ukernel_avx2.html">gemm_ukernel_avx2</a></li>
<li><a href="gemm_ukernel_avx512.html">gemm_ukernel_avx512</a></li>
<li><a href="gemm_ukernel_avx_fma.html">gemm_ukernel_avx_fma</a></li>
<li><a href="gemm_ukernel_dispatch.html">gemm_ukernel_dispatch</a></li>
<li><a href="gemm_ukernel_generator.html">gemm_ukernel_generator</a></li>
<li><a href="gemm_ukernel_generic.html">gemm_ukernel_generic</a></li>
<li><a href="gemm_ukernel_sse.html">gemm_ukernel_sse</a></li>
<li><a href="gemm_ukernel_sse2.html">gemm_ukernel_sse2</a></li>
<li><a href="gemm_ukernel_sse4_1.html">gemm_ukernel_sse4_1</a></li>
<li><a href="gemm_utils.html">gemm_utils</a></li>
<li><a href="global_config.html">global_config</a></li>
<li><a href="initialization.html">initialization</a></li>
<li><a href="math_ops_fusion.html">math_ops_fusion</a></li>
<li><a href="memory.html">memory</a></li>
<li><a href="nested_containers.html">nested_containers</a></li>
<li><a href="openmp.html">openmp</a></li>
<li><a href="sequninit.html">sequninit</a></li>
<li><a href="simd.html">simd</a></li>
<li><a href="tokenizers.html">tokenizers</a></li>
        </ul>
      </li>
      </span>
    </ul>
  </span>
  <span>
    <a href="#">Tutorial</a>
    <ul class="monospace">
      <li><a href="tuto.first_steps.html">First steps</a></li>
      <li><a href="tuto.slicing.html">Taking a slice of a tensor</a></li>
      <li><a href="tuto.linear_algebra.html">Matrix & vectors operations</a></li>
      <li><a href="tuto.broadcasting.html">Broadcasted operations</a></li>
      <li><a href="tuto.shapeshifting.html">Transposing, Reshaping, Permuting, Concatenating</a></li>
      <li><a href="tuto.map_reduce.html">Map & Reduce</a></li>
      <li><a href="tuto.iterators.html">Basic iterators</a></li>
    </ul>
  </span>
  <span>
    <a href="#">Spellbook (How-To&apos;s)</a>
    <ul class="monospace">
      <li><a href="howto.type_conversion.html">How to convert a Tensor type?</a></li>
      <li><a href="howto.ufunc.html">How to create a new universal function?</a></li>
      <li><a href="howto.perceptron.html">How to create a multilayer perceptron?</a></li>
    </ul>
  </span>
  <span>
    <a href="#">Under the hood</a>
    <ul class="monospace">
      <li><a href="uth.speed.html">How Arraymancer achieves its speed?</a></li>
      <li><a href="uth.copy_semantics.html">Why does `=` share data by default aka reference semantics?</a></li>
      <li><a href="uth.opencl_cuda_nim.html">Working with OpenCL and Cuda in Nim</a></li>
    </ul>
  </span>
</header>
</body>
</html>
